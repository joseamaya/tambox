{% extends "compras/base_compras.html" %} 
{% block cuerpo %}
{% if object %}
<h3>Proveedores / {{ object.razon_social }}</h3>
{% else %}
<h3>Proveedores / Nuevo</h3>
{% endif %}
<form role="form" method="post">
	{% csrf_token %}
	<div class="row">
		<div class="col-lg-10">
			<button type="button" class="btn btn-info" id="id_sunat">Datos SUNAT</button>
			<input type="submit" class="btn btn-primary" name="submit" value="Guardar">
			{% if object %}
			<button type="button" class="btn btn-default" onclick="location.href='{% url 'compras:detalle_proveedor' object.pk %}'">
				Cancelar
			</button>
			{% else %}
			<button type="button" class="btn btn-default" onclick="location.href='{% url 'compras:proveedores' %}'">
				Cancelar
			</button>
			{% endif %}
		</div>
		<div class="col-lg-2 text-right">
			<div class="btn-group">
				{% if object %}
				<button class="btn btn-default" type="button" onclick="location.href='{% url 'compras:modificar_proveedor' proveedor.anterior %}';">
					<span class="glyphicon glyphicon-step-backward"></span>
				</button>
				<button class="btn btn-default" type="button" onclick="location.href='{% url 'compras:modificar_proveedor' proveedor.siguiente %}';">
					<span class="glyphicon glyphicon-step-forward"></span>
				</button>
				{% endif %}
				<button class="btn btn-default" type="button" onclick="location.href='{% url 'compras:proveedores' %}';">
					<span class="glyphicon glyphicon-th-list"></span>
				</button>
			</div>
		</div>
	</div>
	<hr />
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="row">
				<div class="col-lg-2">
					<a href="/media/{{ object.imagen.url }}" class="thumbnail"> <img
						src="/media/{{ object.imagen.url }}" alt="Imagen Producto"
						style="width: 120px; height: 90px">
					</a>
				</div>
				<div class="col-lg-7">
					<label>RAZÓN SOCIAL:</label>
					{% if form.razon_social.errors %}
						{% for error in form.razon_social.errors %}
						<div class="alert alert-danger alert-dismissible" role="alert">							
							<button type="button" class="close" data-dismiss="alert" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>							
				            <strong>Error: </strong> {{ error|escape }}					        
						</div>
				        {% endfor %}
				    {% endif %}
					<h3>{{ form.razon_social }}</h3>
				</div>
				<div class="col-lg-3">
					<div class="btn-group">
						<button class="btn btn-default" type="button">
							<span class="fa fa-shopping-cart fa-2x"></span> 0 <br>
							Compras
						</button>
						<button class="btn btn-default" type="button">
							<span class="fa fa-truck fa-2x"></span> 0 <br> Facturas
						</button>
					</div>
				</div>
			</div>
			<br>
			<ul class="nav nav-tabs">
				<li class="active"><a data-toggle="tab" href="#general">Información General</a></li>
				<li><a data-toggle="tab" href="#representantes">Representantes Legales</a></li>
			</ul>
			<div class="tab-content">
				<div id="general" class="tab-pane fade in active">
					<br>
					<div class="row">
						<div class="col-lg-4">
							<label>RUC:</label>
							{% if form.ruc.errors %}
								{% for error in form.ruc.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.ruc }}</p>
							<label>DIRECCIÓN:</label>
							{% if form.direccion.errors %}
								{% for error in form.direccion.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.direccion }}</p>
							<label>ESTADO SUNAT: </label>
							{% if form.estado_sunat.errors %}
								{% for error in form.estado_sunat.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.estado_sunat }}</p>
							<label>CONDICIÓN: </label>
							{% if form.condicion.errors %}
								{% for error in form.condicion.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.condicion }}</p>	
						</div>
						<div class="col-lg-4">
							<label>CIIU: </label>
							{% if form.ciiu.errors %}
								{% for error in form.ciiu.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.ciiu }}</p>
							<label>FECHA ALTA: </label>
							{% if form.fecha_alta.errors %}
								{% for error in form.fecha_alta.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.fecha_alta }}</p>
							<label>TELÉFONO: </label>
							{% if form.telefono.errors %}
								{% for error in form.telefono.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.telefono }}</p>
							<label>EMAIL: </label>
							{% if form.correo.errors %}
								{% for error in form.correo.errors %}
								<div class="alert alert-danger alert-dismissible" role="alert">							
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>							
						            <strong>Error: </strong> {{ error|escape }}					        
								</div>
						        {% endfor %}
						    {% endif %}
							<p>{{ form.correo }}</p>
						</div>
						<div class="col-lg-4"></div>
					</div>
				</div>
				<div id="representantes" class="tab-pane fade">
					<br>
				</div>
			</div>
		</div>
	</div>
</form>
{% endblock cuerpo %}
{% block js %}
<script>
$(document).ready(function() 
{
	var mySpinner = null;	
	$("#id_fecha_alta").datepicker();
	$(".cantidad").keydown(validar_numeros);
	
	function setupLoading() 
	{    
	    $('<div id="divSpin" />').appendTo(document.body);

	    var target = document.getElementById("divSpin");

	    var opts = {
	        lines: 13, // The number of lines to draw
	        length: 20, // The length of each line
	        width: 10, // The line thickness
	        radius: 30, // The radius of the inner circle
	        corners: 1, // Corner roundness (0..1)
	        rotate: 8, // The rotation offset
	        direction: 1, // 1: clockwise, -1: counterclockwise
	        color: '#000', // #rgb or #rrggbb or array of colors
	        speed: 1, // Rounds per second
	        trail: 60, // Afterglow percentage
	        shadow: false, // Whether to render a shadow
	        hwaccel: false, // Whether to use hardware acceleration
	        className: 'mySpin', // The CSS class to assign to the spinner
	        zIndex: 2e9, // The z-index (defaults to 2000000000)
	        top: '50%', // Top position relative to parent
	        left: '50%' // Left position relative to parent
	    };

	    mySpinner = new Spinner(opts).spin(target);
	}

	function removeLoading(){
	    mySpinner.stop();
	}

	function showLoading() {
	    mySpinner.spin();
	}
});
</script>
{% endblock js %}